<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact | UMMI Masjid</title>

  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>
</head>
<body>

<!-- ==================== NAVIGATION ==================== -->
<nav>
  <div class="nav-inner">
    <a href="index.html" class="nav-logo">UMMI Masjid</a>
    <div class="hamburger" onclick="toggleMenu()">☰</div>
    <div class="nav-links" id="nav">
      <a href="index.html#about">About</a>
      <a href="index.html#support">Support</a>
      <a href="index.html#location">Location</a>
      <a href="index.html#follow">Follow</a>
      <a href="contact.html">Contact Us</a>
    </div>
  </div>
</nav>

<!-- ==================== CONTACT SECTION ==================== -->
<section class="donation-instructions fade page-section">
  <h2 class="section-title">Contact Us</h2>

  <p class="donation-subtitle">
    Have a question, suggestion, or would like to get involved?
    Please fill in the form below and we will get back to you.
  </p>

  <form class="donation-form" id="contactForm">

    <div class="form-group">
      <label>Your Name</label>
      <input type="text" name="name" placeholder="Full name" required />
    </div>

    <div class="form-group">
      <label>Email or WhatsApp</label>
      <input
        type="text"
        name="contact"
        placeholder="email@example.com or +818012345678"
        required
      />
    </div>

    <div class="form-group">
      <label>Subject</label>
      <input
        type="text"
        name="subject"
        placeholder="Your message subject"
        required
      />
    </div>

    <div class="form-group">
      <label>Message</label>
      <textarea
        name="message"
        rows="5"
        placeholder="Write your message here..."
        required
      ></textarea>
    </div>

    <button type="submit" class="donation-btn">
      Send Message
    </button>

  </form>
</section>

<!-- ==================== FOOTER ==================== -->
<footer>
  <p>
    <br><br>
    “Whoever builds a masjid for Allah,
    Allah will build for him a house in Paradise.”
    <br>— Prophet Muhammad ﷺ
    <br><br>
    © UMMI Masjid · ummi.jp · info@ummi.jp
  </p>
</footer>

<script>
const contactForm = document.getElementById("contactForm");

contactForm.addEventListener("submit", async (e) => {
  e.preventDefault();

  const submitBtn = contactForm.querySelector("button[type='submit']");
  submitBtn.disabled = true;
  submitBtn.textContent = "Sending...";

  try {
    const payload = {
      name: contactForm.name.value.trim(),
      contact: contactForm.contact.value.trim(),
      subject: contactForm.subject.value.trim(),
      message: contactForm.message.value.trim(),
    };

    const response = await fetch("https://ummiworker.northwoodjp.workers.dev/contact", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });

    const result = await response.json();

    if (result.status === "success") {
      alert("Your message has been sent successfully. Thank you!");
      contactForm.reset();
      // Optional: redirect to thank you page
      // window.location.href = "thankyou.html";
    } else {
      throw new Error(result.error || "Failed to send message");
    }

  } catch (err) {
    alert("Submission failed: " + err.message);
  } finally {
    submitBtn.disabled = false;
    submitBtn.textContent = "Send Message";
  }
});
</script>


</body>
</html>